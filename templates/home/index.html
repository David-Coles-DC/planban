{% load static %}
<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="UTF-8" />
        <meta http-equiv="X-UA-Compatible" content="IE=edge" />
        <meta name="viewport" content="width=device-width, initial-scale=1.0" />
        <title>Planban Home</title>
        <script type="text/javascript" src="{% static 'js/skrollr.min.js' %}" defer></script>
        <link rel="icon" type="image/png" href="{% static 'images/favicon-96x96.png' %}" sizes="96x96" />
        <link rel="icon" type="image/svg+xml" href="{% static 'images/favicon.svg' %}" />
        <link rel="shortcut icon" href="{% static 'images/favicon.ico' %}" />
        <link rel="apple-touch-icon" sizes="180x180" href="{% static 'images/apple-touch-icon.png' %}" />
        <meta name="apple-mobile-web-app-title" content="Planban" />
        <link rel="manifest" href="{% static 'images/site.webmanifest' %}" />
        <link rel="stylesheet" type="text/css" href="{% static 'css/styles.css' %}" />
        <script src="https://kit.fontawesome.com/dca04d2916.js" crossorigin="anonymous"></script>
    </head>

    <body>
        <section class="intro" id="home">
            <div
                class="logo_outer"
                data-anchor-target=".intro"
                data-900-start="top: 0px;"
                data-2200-start="top: -650px;"
            >
                <div
                    class="logo"
                    data-anchor-target=".intro"
                    data-start="width: 13%;"
                    data-300-start="width: 100%;"
                    aria-label="Planban"
                ></div>
                <div
                    class="strap"
                    data-anchor-target=".intro"
                    data-start="top: 100vh; opacity: 0;"
                    data-300-start="top: 100vh; opacity: 0;"
                    data-600-start="top: 46vh; opacity: 1;"
                >
                    Organize your projects as a Kanban board, list, or Gantt chart.
                </div>
            </div>
            <div
                class="intro_buttons"
                data-anchor-target=".intro"
                data-900-start="top: calc(55vh + 0px);"
                data-2200-start="top: calc(55vh + -650px);"
            >
                <a
                    href="{% url 'account_signup' %}"
                    id="introSignupButton"
                    data-anchor-target=".intro"
                    data-start="left: calc(0% - 80px); opacity: 0;"
                    data-600-start="left: calc(0% - 80px); opacity: 0;"
                    data-900-start="left: calc(50% - 80px); opacity: 1;"
                >
                    Get Started
                </a>
                <a
                    href="#contact"
                    data-anchor-target=".intro"
                    data-start="right: calc(0% - 80px); opacity: 0;"
                    data-600-start="right: calc(0% - 80px); opacity: 0;"
                    data-900-start="right: calc(50% - 80px); opacity: 1;"
                >
                    Contact Us
                </a>
            </div>
            <div
                class="scroll_down"
                data-anchor-target=".intro"
                data-900-start="bottom: 25px;"
                data-2200-start="bottom: 675px;"
            >
                <div class="mouse">
                    <div class="scroll"></div>
                </div>
                <div class="text">SCROLL DOWN</div>
            </div>
        </section>
        <header>
            <img alt="Planban Logo" src="{% static 'images/logo.webp' %}" height="35" />
            <nav class="desktop">
                <ul>
                    <li>
                        <a href="#home">Home</a>
                    </li>
                    <li>
                        <a href="#features">Features</a>
                    </li>
                    <li>
                        <a href="#faqs">FAQs</a>
                    </li>
                    <li>
                        <a href="#contact">Contact Us</a>
                    </li>
                </ul>
            </nav>
            <nav class="desktop">
                <ul>
                    <li>
                        <a href="{% url 'account_login' %}" id="loginButton">Login</a>
                    </li>
                    <li>
                        <a href="javascript:void(0)" class="button" id="signupButton">Get Started</a>
                    </li>
                </ul>
            </nav>
            <nav class="mobile">
                <ul>
                    <li>
                        <a href="javascript:void(0)" aria-label="Open menu">
                            <i class="fa-solid fa-bars"></i>
                        </a>
                    </li>
                </ul>
            </nav>
        </header>
        <main>
            <section class="features_outer" id="features">
                <div class="section_inner features">
                    <div
                        class="feature"
                        data-bottom-top="transform: translate(-50vw); opacity: 0"
                        data-center-top="transform: translate(0vw); opacity: 1"
                        data-anchor-target=".features_outer"
                    >
                        <i class="fas fa-tasks"></i>
                        <h3>Kanban Boards</h3>
                        <p>Organise your tasks visually with a flexible drag-and-drop interface.</p>
                    </div>
                    <div
                        class="feature"
                        data-bottom-top="opacity: 0"
                        data-center-top="opacity: 1"
                        data-anchor-target=".features_outer"
                    >
                        <i class="fas fa-chart-bar"></i>
                        <h3>Gantt Charts</h3>
                        <p>Convert your Kanban boards into a timeline view for better planning.</p>
                    </div>
                    <div
                        class="feature"
                        data-bottom-top="transform: translate(50vw); opacity: 0"
                        data-center-top="transform: translate(0vw); opacity: 1"
                        data-anchor-target=".features_outer"
                    >
                        <i class="fas fa-users"></i>
                        <h3>Collaboration</h3>
                        <p>Work with your team using task assignments, comments, and notifications.</p>
                    </div>
                </div>
            </section>
            <!-- FAQ Section -->
            <section class="faqs_outer" id="faqs">
                <div class="section_inner faqs">
                    <h2>Frequently Asked Questions</h2>
                    <div
                        class="faq"
                        data-0-bottom="margin-top: 250px; opacity: 0"
                        data--250-bottom="margin-top: 0px; opacity: 1"
                    >
                        <h3 class="faq-question">What is Planban?</h3>
                        <div class="faq-answer">
                            <p>
                                Planban is a project management tool that helps you organize your tasks visually using
                                Kanban boards, Gantt charts, and more.
                            </p>
                        </div>
                    </div>
                    <div
                        class="faq"
                        data-0-bottom="margin-top: 250px; opacity: 0"
                        data--250-bottom="margin-top: 0px; opacity: 1"
                    >
                        <h3 class="faq-question">How do I get started?</h3>
                        <div class="faq-answer">
                            <p>
                                To get started, simply
                                <a href="javascript:void(0)" id="faqSignupButton">sign up for an account</a> and create
                                your first project.
                            </p>
                        </div>
                    </div>
                    <div
                        class="faq"
                        data-0-bottom="margin-top: 250px; opacity: 0"
                        data--250-bottom="margin-top: 0px; opacity: 1"
                    >
                        <h3 class="faq-question">Can I collaborate with my team?</h3>
                        <div class="faq-answer">
                            <p>
                                Yes, you can invite team members to your projects and collaborate using task
                                assignments, comments, and notifications.
                            </p>
                        </div>
                    </div>
                </div>
            </section>
            <!-- Contact Section -->
            <section class="contact_outer" id="contact">
                <div class="section_inner contact">
                    <h2>Contact Us</h2>
                    <p>If you have any questions or need further information, please feel free to contact us.</p>
                    <!--
                        <div class="contact-info">
                            <p><strong>Email:</strong> support@planban.com</p>
                            <p><strong>Phone:</strong> +1 (555) 123-4567</p>
                            <p><strong>Address:</strong> 123 Planban Street, Project City, PC 12345</p>
                        </div>
                    -->
                    <form class="contact-form">
                        <label for="name">Name:</label>
                        <input type="text" id="name" name="name" required />
                        <label for="email">Email:</label>
                        <input type="email" id="email" name="email" required />
                        <label for="message">Message:</label>
                        <textarea id="message" name="message" rows="4" required></textarea>
                        <button type="submit">Send Message</button>
                    </form>
                </div>
            </section>
        </main>
        <footer>
            <div class="footer_inner">
                <div class="footer_column">
                    <img alt="Planban Logo" src="{% static 'images/logo.webp' %}" height="35" />
                </div>
                <div class="footer_column">&copy; {% now "Y" %} Planban. All rights reserved.</div>
                <div class="footer_column">
                    <div class="social_media">
                        <a href="https://www.facebook.com/" aria-label="Facebook" target="_blank">
                            <i class="fab fa-facebook-f"></i>
                        </a>
                        <a href="https://x.com/" aria-label="X" target="_blank">
                            <i class="fab fa-x-twitter"></i>
                        </a>
                        <a href="https://www.linkedin.com/" aria-label="LinkedIn" target="_blank">
                            <i class="fab fa-linkedin-in"></i>
                        </a>
                    </div>
                </div>
            </div>
        </footer>

        <!-- Login Modal HTML -->
        <div id="loginModal" class="modal">
            <div class="modal-content">
                <span class="close">&times;</span>
                <h2>
                    <span class="logo" aria-hidden></span>
                    Login
                </h2>
                <form method="post" action="{% url 'account_login' %}">
                    {% csrf_token %}
                    <div>
                        <div>
                            <label for="id_login">Username or Email:</label>
                            <input type="text" id="id_login" name="login" required />
                        </div>
                    </div>
                    <div>
                        <div>
                            <label for="id_password">Password:</label>
                            <input type="password" id="id_password" name="password" required />
                        </div>
                    </div>
                    <button class="button" type="submit">Login</button>
                </form>
                <p>Don't have an account? <a id="registerToLogin" href="{% url 'account_signup' %}">Sign up</a></p>
                <p><a href="{% url 'account_reset_password' %}">Forgot your password?</a></p>
            </div>
        </div>

        <!-- Signup Modal HTML -->
        <div id="signupModal" class="modal">
            <div class="modal-content">
                <span class="close">&times;</span>
                <h2>Signup</h2>
                <form method="post" action="{% url 'account_signup' %}">
                    {% csrf_token %}
                    <div>
                        <div>
                            <label for="id_username">Username:</label>
                            <input type="text" id="id_username" name="username" required />
                        </div>
                    </div>
                    <div>
                        <div>
                            <label for="id_email">Email:</label>
                            <input type="email" id="id_email" name="email" required />
                        </div>
                    </div>
                    <div>
                        <div>
                            <label for="id_password1">Password:</label>
                            <input type="password" id="id_password1" name="password1" required />
                        </div>
                    </div>
                    <div>
                        <div>
                            <label for="id_password2">Confirm Password:</label>
                            <input type="password" id="id_password2" name="password2" required />
                        </div>
                    </div>
                    <button class="button" type="submit">Signup</button>
                </form>
                <p>Already have an account? <a id="signupToLogin" href="{% url 'account_login' %}">Login</a></p>
            </div>
        </div>
        <script>
            window.onload = function () {
                var s = skrollr.init();
                if (s.isMobile()) {
                    document.body.classList.add('is_mobile');
                    s.destroy();
                }
            };

            document.querySelectorAll('a[href^="#"]').forEach((anchor) => {
                anchor.addEventListener('click', function (e) {
                    e.preventDefault();

                    document.querySelector(this.getAttribute('href')).scrollIntoView({
                        behavior: 'smooth',
                    });
                });
            });

            // Modal JavaScript
            function setupModal(modalId, buttonIds) {
                var modal = document.getElementById(modalId);
                var span = modal.getElementsByClassName('close')[0];

                buttonIds.forEach(function (buttonId) {
                    var btn = document.getElementById(buttonId);
                    btn.onclick = function (event) {
                        event.preventDefault(); // Prevent the default action of the link

                        // Close any open modals
                        document.querySelectorAll('.modal.open').forEach(function (openModal) {
                            openModal.classList.remove('open');
                        });

                        // Open the new modal
                        modal.classList.add('open');
                    };
                });

                span.onclick = function () {
                    modal.classList.remove('open');
                };

                window.onclick = function (event) {
                    if (event.target == modal) {
                        modal.classList.remove('open');
                    }
                };
            }

            // Setup modals
            setupModal('loginModal', ['loginButton', 'signupToLogin']);
            setupModal('signupModal', ['faqSignupButton', 'introSignupButton', 'signupButton', 'registerToLogin']);

            // FAQ Accordion JavaScript
            document.querySelectorAll('.faq-question').forEach((question) => {
                question.addEventListener('click', function () {
                    var answer = this.nextElementSibling;
                    if (answer.style.height) {
                        answer.style.height = null;
                        answer.classList.add('closed');
                    } else {
                        answer.style.height = answer.scrollHeight + 'px';
                        answer.classList.remove('closed');
                    }
                });
            });

            // Hide FAQ answers by default with JavaScript
            document.addEventListener('DOMContentLoaded', function () {
                document.querySelectorAll('.faq-answer').forEach((answer) => {
                    answer.classList.add('closed');
                });
            });
        </script>
    </body>
</html>
